<?xml version="1.0"?>
<!-- Motor LIN 4418S-51D-02RO  1.23A
 B-Scope Stage X, Y and Z	Lin 4418S-51D-02RO
 1.0 amps, 4.25 ohms, 6.55 mH
 .431 N-m holding torque
 measured Ke 0.0420 V/Hz
 
 values to current measured
 Current 	RUN_CURRENT ST_SLP	INT_SPEED BOTH_FN_SLP
 220ma		56			17		7674		48	 		Current on MCM3000 at fast speed was about 200mA but 760mA at start
 610ma		56			17		2000		60	(using this one)
 1000ma		67			60		8000		80	
 
 The high current version was set to 1.2A POWERSTEP01
 
-->

<StageParameters>
	<LimitParameters command="0x4047" data_length="30">
		<Parameter name="cw_hardlimit" type="UInt16" length="2" offset="8" value="128" /> <!-- Swap limits-->
		<Parameter name="ccw_hardlimit" type="UInt16" length="2" offset="10" value="128" /> <!-- Swap limits-->
		<Parameter name="cw_softlimit" type="Int32" length="4" offset="12" value="2147483647" />
		<Parameter name="ccw_softlimit" type="Int32" length="4" offset="16" value="-2147483648" />
		<Parameter name="abs_hi_limit" type="Int32" length="4" offset="20" value="2147483647" />
		<Parameter name="abs_low_limit" type="Int32" length="4" offset="24" value="-2147483648" />
		<Parameter name="limit_mode" type="UInt16" length="2" offset="28" value="1" />
	</LimitParameters>
<!-- don't clear the abs limits 
	<ABS_Limit_Clear_Parameters command="0x4046" data_length="6">
		<Parameter name="clear_abs_linit" type="Byte" length="1" offset="2" value="3" />
	</ABS_Limit_Clear_Parameters> -->
	
	<HomingParameters command="0x403E" data_length="20">
		<Parameter name="home_mode" type="Byte" length="1" offset="8" value="0" />
		<Parameter name="home_direction" type="Byte" length="1" offset="9" value="1" />
		<Parameter name="limit_switch" type="UInt16" length="2" offset="10" value="1" />
		<Parameter name="home_velocity" type="UInt32" length="4" offset="12" value="70" />
		<Parameter name="offset_distance" type="Int32" length="4" offset="16" value="0" />
	</HomingParameters>

	<MotorParameters command="0x4041" data_length="102">
		<Parameter name="stage_id" type="UInt16" length="2" offset="8" value="0" />
		<Parameter name="axis_id" type="UInt16" length="2" offset="10" value="0" />
		<!--Byte[] part_no_axis; --> 
		<Parameter name="part_no_axis" type="xs.string" length="16" offset="12" value="Inverted Z Axis" />
		<Parameter name="axis_serial_no" type="UInt32" length="4" offset="28" value="0" />
		<Parameter name="counts_per_unit" type="Int32" length="4" offset="32" value="132700" /> <!-- was 128000-->
		<Parameter name="min_pos" type="Int32" length="4" offset="36" value="0" />
		<Parameter name="max_pos" type="Int32" length="4" offset="40" value="2147483647" />
		<Parameter name="max_acc" type="Int32" length="4" offset="44" value="2000" />
		<Parameter name="max_dec" type="Int32" length="4" offset="48" value="2000" />	
		<Parameter name="max_speed" type="Int32" length="4" offset="52" value="45" /> <!-- was 30-->
		<Parameter name="min_speed" type="Int16" length="2" offset="56" value="0" />
		<Parameter name="fs_spd" type="Int16" length="2" offset="58" value="1023" />
		<Parameter name="kval_hold" type="Byte" length="1" offset="60" value="8" />
		<Parameter name="kval_run" type="Byte" length="1" offset="61" value="56" />
		<Parameter name="kval_run" type="Byte" length="1" offset="62" value="56" />
		<Parameter name="kval_run" type="Byte" length="1" offset="63" value="56" />
		<Parameter name="int_speed" type="Int16" length="2" offset="64" value="2000" />
		<Parameter name="stall_th" type="Byte" length="1" offset="66" value="31" />
		<Parameter name="st_slp" type="Byte" length="1" offset="67" value="17" />
		<Parameter name="fn_slp_acc" type="Byte" length="1" offset="68" value="60" />
		<Parameter name="fn_slp_dec" type="Byte" length="1" offset="69" value="60" />
		<Parameter name="ocd_th" type="Byte" length="1" offset="70" value="8" />
		<Parameter name="step_mode" type="Byte" length="1" offset="71" value="7" />
		<Parameter name="config" type="Int16" length="2" offset="72" value="3720" />
		<Parameter name="nm_per_count" type="float" length="4" offset="74" value="10" />
		<Parameter name="gate_config" type="Int32" length="3" offset="78" value="0" />
		<Parameter name="stepper_approach_vel" type="Int16" length="2" offset="81" value="1000" />
		<Parameter name="stepper_deadband" type="Int16" length="2" offset="83" value="5" />
		<Parameter name="stepper_backlash" type="Int16" length="2" offset="85" value="0" />
		<Parameter name="kickout_time" type="Byte" length="1" offset="87" value="20" />
		<Parameter name="flags" type="Byte" length="1" offset="88" value="57" /> <!-- Rev stepper-->
		<Parameter name="collision_threshold" type="Int16" length="2" offset="89" value="0" />
		<Parameter name="encoder_type" type="Byte" length="1" offset="91" value="3" />
		<Parameter name="index_delta_min" type="UInt16" length="2" offset="92" value="0" />
		<Parameter name="index_delta_incr" type="UInt16" length="2" offset="94" value="0" />
	</MotorParameters>
	
	<PIDParameters command="0x04A0" data_length="26">
		<Parameter name="kp" type="Int32" length="4" offset="8" value="350" />
		<Parameter name="ki" type="Int32" length="4" offset="12" value="0" />
		<Parameter name="kd" type="Int32" length="4" offset="16" value="0" />
		<Parameter name="iMax" type="Int32" length="4" offset="20" value="0" />
		<Parameter name="FilterControl" type="Int16" length="2" offset="24" value="0" />
	</PIDParameters>
	
	<CalibratedPositions command="0x4021" data_length="48">
		<Parameter name="position_1" type="Int32" length="4" offset="8" value="2147483647" />
		<Parameter name="position_2" type="Int32" length="4" offset="12" value="2147483647" />
		<Parameter name="position_3" type="Int32" length="4" offset="16" value="2147483647" />
		<Parameter name="position_4" type="Int32" length="4" offset="20" value="2147483647" />
		<Parameter name="position_5" type="Int32" length="4" offset="24" value="2147483647" />
		<Parameter name="position_6" type="Int32" length="4" offset="28" value="2147483647" />
	</CalibratedPositions>

	<CalibratedPositionsDeadband command="0x401D" data_length="10">
		<Parameter name="deadband" type="UInt16" length="2" offset="8" value="0" />
	</CalibratedPositionsDeadband>

</StageParameters>


<!-- <Parameter name="" type="" length="" offset="" value="" /> -->