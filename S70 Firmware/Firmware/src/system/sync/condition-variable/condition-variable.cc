// condition-variable.cc

/**************************************************************************//**
 * \file condition-variable.cc
 * \author Sean Benish
 *****************************************************************************/
#include "condition-variable.hh"

/*****************************************************************************
 * Constants
 *****************************************************************************/

/*****************************************************************************
 * Macros
 *****************************************************************************/

/*****************************************************************************
 * Data Types
 *****************************************************************************/

/*****************************************************************************
 * Private Function Prototypes
 *****************************************************************************/

/*****************************************************************************
 * Static Data
 *****************************************************************************/

/******************************************************************************
 * Interrupt Handlers
 *****************************************************************************/

/*****************************************************************************
 * Public Functions
 *****************************************************************************/

condition_variable::condition_variable()
    : _semaphore(xQueueCreate(1, 0))
{
    if (_semaphore == NULL)
    {
        // TODO:  Error
    }
}

condition_variable::condition_variable(const condition_variable& r_other)
    : _semaphore(r_other._semaphore)
{}

condition_variable::~condition_variable()
{
    vQueueDelete(_semaphore);
}

void condition_variable::notify_all()
{
    xQueueSend(_semaphore, nullptr, 0);
}

/*****************************************************************************
 * Private Functions
 *****************************************************************************/

// EOF
